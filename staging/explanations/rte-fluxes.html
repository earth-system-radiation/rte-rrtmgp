<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>RTE - fluxes | RTE-RRTMGP</title>
<meta name="generator" content="Jekyll v4.2.2" />
<meta property="og:title" content="RTE - fluxes" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="RTE+RRTMGP is a set of codes for computing radiative fluxes in planetary atmospheres. RRTMGP uses a k-distribution to provide an optical description (absorption and possibly Rayleigh optical depth) of the gaseous atmosphere, along with the relevant source functions, on a pre-determined spectral grid given temperatures, pressures, and gas concentration. RTE computes fluxes given spectrally-resolved optical descriptions and source functions." />
<meta property="og:description" content="RTE+RRTMGP is a set of codes for computing radiative fluxes in planetary atmospheres. RRTMGP uses a k-distribution to provide an optical description (absorption and possibly Rayleigh optical depth) of the gaseous atmosphere, along with the relevant source functions, on a pre-determined spectral grid given temperatures, pressures, and gas concentration. RTE computes fluxes given spectrally-resolved optical descriptions and source functions." />
<link rel="canonical" href="https://earth-system-radiation.github.io//rte-rrtmgp/explanations/rte-fluxes.html" />
<meta property="og:url" content="https://earth-system-radiation.github.io//rte-rrtmgp/explanations/rte-fluxes.html" />
<meta property="og:site_name" content="RTE-RRTMGP" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="RTE - fluxes" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"RTE+RRTMGP is a set of codes for computing radiative fluxes in planetary atmospheres. RRTMGP uses a k-distribution to provide an optical description (absorption and possibly Rayleigh optical depth) of the gaseous atmosphere, along with the relevant source functions, on a pre-determined spectral grid given temperatures, pressures, and gas concentration. RTE computes fluxes given spectrally-resolved optical descriptions and source functions.","headline":"RTE - fluxes","url":"https://earth-system-radiation.github.io//rte-rrtmgp/explanations/rte-fluxes.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/rte-rrtmgp/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://earth-system-radiation.github.io//rte-rrtmgp/feed.xml" title="RTE-RRTMGP" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/rte-rrtmgp/">RTE-RRTMGP</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/rte-rrtmgp/how-tos/build-and-test.html">How to build the libraries, tests, and examples, run the tests, and verify the results</a><a class="page-link" href="/rte-rrtmgp/reference/compiler-flags.html">Example compiler flags</a><a class="page-link" href="/rte-rrtmgp/">RTE+RRTMGP documentation</a><a class="page-link" href="/rte-rrtmgp/explanations/">Explanations</a><a class="page-link" href="/rte-rrtmgp/tutorials/">Tutorials</a><a class="page-link" href="/rte-rrtmgp/how-tos/">How-to guides</a><a class="page-link" href="/rte-rrtmgp/reference/">Reference (technical documentation)</a><a class="page-link" href="/rte-rrtmgp/reference/optical-props-overview.html">Working with optical properties and spectral discretizations</a><a class="page-link" href="/rte-rrtmgp/explanations/rte-fluxes.html">RTE - fluxes</a><a class="page-link" href="/rte-rrtmgp/explanations/rte-optical-props.html">RTE - optical properties</a><a class="page-link" href="/rte-rrtmgp/explanations/rte-solvers.html">RTE - solvers</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">RTE - fluxes</h1>
  </header>

  <div class="post-content">
    <p>RTE solves the radiative transfer equation for each spectral point independently but this detailed information typically isn’t useful. Class <code class="language-plaintext highlighter-rouge">ty_fluxes</code> in module <a href="./reference/rte-fortran-interface/module/mo_fluxes.html">mo_fluxes</a> in the RTE library provides a way to reduce the highly-detailed information based on precisely what the user needs. Class <code class="language-plaintext highlighter-rouge">ty_fluxes_broadband</code> provides an example implementation that reports broadband flux i.e. the sum over all spectral points at all levels.</p>

<h1 id="fluxes-interface">Fluxes interface</h1>

<p><code class="language-plaintext highlighter-rouge">[ty_fluxes](https://earth-system-radiation.github.io/rte-rrtmgp/reference/rte-fortran-interface/type/ty_fluxes.html)</code> is an abstract class that defines <a href="./reference/rte-fortran-interface/type/ty_fluxes.html">two interfaces</a> defining type-bound functions. Function <code class="language-plaintext highlighter-rouge">reduce</code> is called within the RTE solvers. The input arguments include the spectrally-resolved fluxes up and down (and, optically, the direct-beam flux) and the spectral discretization. Logical function <code class="language-plaintext highlighter-rouge">are_desired</code> is called by RTE to check if the results of a calculation will be used.</p>

<p>Class <code class="language-plaintext highlighter-rouge">ty_fluxes</code> is abstract; it defines only the interfaces to these routines. Implementation is deferred to user classes that extend this class.</p>

<h1 id="broadband-fluxes">Broadband fluxes</h1>

<p>Class <a href="./reference/rte-fortran-interface/type/ty_fluxes_broadband.html">ty_fluxes_broadband</a> in the same <a href="./reference/rte-fortran-interface/module/mo_fluxes.html">module</a> provides an example of how to extend <code class="language-plaintext highlighter-rouge">ty_fluxes</code>. This class reports broadband values i.e. the sum over every element in the spectral dimensions. The class contains <a href="./reference/rte-fortran-interface/type/ty_fluxes_broadband.html">four data fields</a>. Before calling one of the RTE solvers with this class as output, users either allocate one or more of these output fields or point to an existing array. The fields must have the same number of columns and layers as the problem being solved. In class <code class="language-plaintext highlighter-rouge">ty_fluxes_broadband</code> logical function `are_desired()`` returns true if one or more of the data fields points to storage and false otherwise.</p>

<h1 id="other-extensions">Other extensions</h1>

<p>Class <code class="language-plaintext highlighter-rouge">ty_fluxes_byband</code> in subdirectory <code class="language-plaintext highlighter-rouge">extensions/</code> provides another example that makes use of the spectral discretization information.</p>

<p>It’s useful to extend the class when particular subsets of fluxes, such as photosynthetically-active radiation at the surface, are required.</p>

  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/rte-rrtmgp/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">RTE-RRTMGP</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">RTE-RRTMGP</li><li><a class="u-email" href="mailto:rrtmgp@aer.com">rrtmgp@aer.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/earth-system-radiation"><svg class="svg-icon"><use xlink:href="/rte-rrtmgp/assets/minima-social-icons.svg#github"></use></svg> <span class="username">earth-system-radiation</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>RTE+RRTMGP is a set of codes for computing radiative fluxes in planetary atmospheres. RRTMGP uses a k-distribution to provide an optical description (absorption and possibly Rayleigh optical depth) of the gaseous atmosphere, along with the relevant source functions, on a pre-determined spectral grid given temperatures, pressures, and gas concentration. RTE computes fluxes given spectrally-resolved optical descriptions and source functions.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
